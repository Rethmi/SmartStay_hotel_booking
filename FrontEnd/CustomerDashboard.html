<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxury Stays - Premium Hotel Booking</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        :root {
            --primary: #3a86ff;
            --primary-dark: #2563eb;
            --secondary: #0f0754;
            --accent: #ff6b6b;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --border-radius: 12px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--dark);
            background-color: #fcfcfc;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
        }

        .navbar-brand img {
            height: 50px;
        }

        .navbar {
            padding: 1rem 0;
            transition: var(--transition);
            background-color: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .navbar-scrolled {
            padding: 0.5rem 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('./assets/images/image.png') center/cover no-repeat;
            min-height: 90vh;
            display: flex;
            align-items: center;
            color: white;
            position: relative;
        }

        .hero-content {
            max-width: 650px;
        }

        .hero-title {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            font-weight: 300;
        }

        .search-section {
            background: white;
            border-radius: var(--border-radius);
            padding: 2.5rem;
            box-shadow: var(--box-shadow);
            margin-top: -80px;
            position: relative;
            z-index: 10;
        }

        .search-form .form-control {
            padding: 0.8rem 1.2rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--light-gray);
            height: calc(2.8em + 0.75rem + 2px);
        }

        .search-form .form-label {
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
            padding: 0.8rem 1.5rem;
            border-radius: var(--border-radius);
            font-weight: 500;
            transition: var(--transition);
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            border-color: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: var(--secondary);
            border-color: var(--secondary);
            padding: 0.8rem 1.5rem;
            border-radius: var(--border-radius);
            font-weight: 500;
            transition: var(--transition);
        }

        .btn-secondary:hover {
            background-color: #0a0540;
            border-color: #0a0540;
            transform: translateY(-2px);
        }

        .section-title {
            position: relative;
            margin-bottom: 2.5rem;
            padding-bottom: 1rem;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--primary);
        }

        .section-title.center:after {
            left: 50%;
            transform: translateX(-50%);
        }
/* About Destinations Section */
#about-destinations {
    background: #fff;
    padding: 5rem 0;
}

#about-destinations .section-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    color: #333;
}

#about-destinations p {
    font-size: 1rem;
    line-height: 1.8;
    color: #6c757d;
}

#about-destinations .btn-primary {
    border-radius: 0.5rem;
    padding: 0.5rem 1.25rem;
    transition: transform 0.3s ease, background-color 0.3s ease;
}

#about-destinations .btn-primary:hover {
    transform: translateY(-2px);
    background-color: #0056b3;
}

#about-destinations img {
    max-width: 100%;
    border-radius: 1rem;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}

        .rating {
            color: #ffc107;
            margin-bottom: 0.75rem;
        }

        .gallery-item {
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-item::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            opacity: 0;
            transition: var(--transition);
        }

        .gallery-item:hover::after {
            opacity: 1;
        }

        .cta-section {
            background: linear-gradient(rgba(15, 7, 84, 0.9), rgba(15, 7, 84, 0.9)), url('./assets/images/image.png') center/cover no-repeat;
            padding: 5rem 0;
            color: white;
            border-radius: var(--border-radius);
        }

        .footer {
            background-color: var(--secondary);
            color: white;
            padding: 4rem 0 2rem;
        }

        .footer a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer a:hover {
            color: white;
        }

        .footer-title {
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.75rem;
        }

        .footer-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background: var(--primary);
        }

        .social-links a {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            margin-right: 0.5rem;
        }

        .social-links a:hover {
            background: var(--primary);
        }

        /* Sidebar Styles */
        .sidebar {
            height: 100%;
            width: 320px;
            position: fixed;
            top: 0;
            right: -320px;
            background-color: white;
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.1);
            transition: right 0.4s ease;
            z-index: 1050;
            overflow-y: auto;
        }

        .sidebar.show {
            right: 0;
        }

        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--light-gray);
            position: relative;
        }

        .sidebar-close {
            position: absolute;
            top: 1.5rem;
            left: 1.5rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        .profile-content {
            padding: 1.5rem;
        }

        html {
  scroll-behavior: smooth;
}
.navbar-dark .navbar-nav .nav-link.active {
  color: #3a86ff;
}
.navbar-dark .navbar-nav .nav-link:hover {
  color: #ff6b6b;
}

        .profile-img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 1rem;
            display: block;
            border: 4px solid var(--light);
            box-shadow: var(--box-shadow);
        }

        /* Chatbot Styles */
        #chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        #chatbot-icon {
            width: 60px;
            height: 60px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 24px;
            box-shadow: 0 5px 15px rgba(58, 134, 255, 0.3);
            transition: var(--transition);
        }

        #chatbot-icon:hover {
            transform: scale(1.1);
        }

        #chatbot-box {
            width: 350px;
            height: 450px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        #chatbot-header {
            background: var(--primary);
            color: white;
            padding: 1rem;
            font-weight: 500;
        }

        #chatbot-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .chat-message {
            margin-bottom: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 18px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .user-message {
            background: var(--primary);
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 5px;
        }

        .bot-message {
            background: var(--light-gray);
            color: var(--dark);
            margin-right: auto;
            border-bottom-left-radius: 5px;
        }

        #chatbot-input-area {
            display: flex;
            padding: 0.75rem;
            border-top: 1px solid var(--light-gray);
        }

        #chatbot-input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid var(--light-gray);
            border-radius: 20px;
            outline: none;
        }

        #chatbot-input-area button {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 0 1rem;
            margin-left: 0.5rem;
            cursor: pointer;
        }

        /* Responsive Adjustments */
        @media (max-width: 992px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .search-form .col-md-3 {
                margin-bottom: 1rem;
            }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.75rem;
            }
            
            .sidebar {
                width: 100%;
                right: -100%;
            }
        }
    </style>
</head>

<body>
 <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top shadow-sm" id="mainNav">
  <div class="container">
    <a class="navbar-brand fw-bold" href="#">
      <img src="./assets/images/HotelLogo.png" alt="Luxury Stays" height="40" class="me-2">
      Luxury Stays
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" href="#hero">Home</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="#hotels-section">Hotels</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="#destinations-section">Destinations</a>
        </li>
        
        <!-- <li class="nav-item">
          <a class="nav-link" href="#about-section">About Us</a>
        </li> -->
         <li class="nav-item">
          <a class="nav-link" href="#gallery-section">Gallery</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#contact-section">Contact</a>
        </li>
      </ul>

      <div class="d-flex align-items-center">
        <button class="btn btn-primary" id="logoutBtn" onclick="logout()">Log In</button>
        <a class="btn btn-primary" href="#" id="profileBtn" onclick="toggleSidebar()">
          <i class="fas fa-user-circle me-1"></i> Profile
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<section id="hero" class="hero-section">
  <div class="container">
    <div class="hero-content" data-aos="fade-right">
      <h1 class="hero-title">Luxury Stays,<br>Memorable Experiences</h1>
      <p class="hero-subtitle">Experience the finest hotels in Sri Lanka...</p>
      <div class="d-flex gap-3">
        <a href="#destinations-section" class="btn btn-primary">Explore Destinations</a>
        <button class="btn btn-outline-light">Watch Video</button>
      </div>
    </div>
  </div>
</section>
 

<!-- Search Section -->
<section id="hotels-section" class="py-5 bg-light">
  <div class="search-section" data-aos="fade-up">
    <h3 class="text-center mb-4">Find Your Perfect Stay</h3>
    <form class="tour-search-form row g-3">
      <div class="col-md-4">
        <label for="destination" class="form-label">Destination</label>
        <input type="text" class="form-control" id="destination" placeholder="Where are you going?">
      </div>
      <div class="col-md-2">
        <label for="checkin" class="form-label">Check In</label>
        <input type="date" class="form-control" id="checkin">
      </div>
      <div class="col-md-2">
        <label for="checkout" class="form-label">Check Out</label>
        <input type="date" class="form-control" id="checkout">
      </div>
      <div class="col-md-2">
        <label for="guests" class="form-label">Guests</label>
        <select class="form-select" id="guests">
          <option>1 Adult</option>
          <option>2 Adults</option>
          <option selected>2 Adults, 1 Child</option>
          <option>2 Adults, 2 Children</option>
        </select>
      </div>
      <div class="col-md-2 d-flex align-items-end">
        <button type="submit" class="btn btn-primary w-100">Search</button>
      </div>
    </form>
  </div>
</section>
   <!-- Popular Destinations -->
<!-- About Destinations -->
<section id="about-destinations" class="py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6" data-aos="fade-right">
                <h2 class="section-title">Why Travel With Us?</h2>
                <p class="text-muted mb-4">
                    Discover breathtaking destinations curated just for you. Whether you’re looking for historical charm, serene beaches, or adventurous escapes, we bring you the best experiences Sri Lanka has to offer. Your journey starts here.
                </p>
                <a href="#destinations-section" class="btn btn-primary btn-lg">Explore Destinations</a>
            </div>
            <div class="col-md-6" data-aos="fade-left">
                <img src="./assets/images/hotel-exterior.jpg" alt="Travel" class="img-fluid rounded shadow-sm">
            </div>
        </div>
    </div>
</section>

<!-- Nearby Attractions -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="section-title center">Nearby Attractions</h2>
            <p class="text-muted">Discover top attractions and activities just steps away from our featured hotels.</p>
        </div>

        <div class="row g-4">
            <div class="col-md-3 col-sm-6" data-aos="zoom-in" data-aos-delay="100">
                <div class="card border-0 shadow-sm h-100 text-center p-3">
                    <img src="./assets/images/spa.png" class="rounded-circle mx-auto mb-3" width="100" height="100" alt="Spa & Wellness">
                    <h6 class="fw-bold">Spa & Wellness</h6>
                    <p class="text-muted small">Relax with rejuvenating spa treatments and world-class wellness services.</p>
                </div>
            </div>

            <div class="col-md-3 col-sm-6" data-aos="zoom-in" data-aos-delay="200">
                <div class="card border-0 shadow-sm h-100 text-center p-3">
                    <img src="./assets/images/about-pic.jpg" class="rounded-circle mx-auto mb-3" width="100" height="100" alt="Infinity Pool">
                    <h6 class="fw-bold">Infinity Pool</h6>
                    <p class="text-muted small">Enjoy breathtaking views while swimming in our rooftop infinity pool.</p>
                </div>
            </div>

            <div class="col-md-3 col-sm-6" data-aos="zoom-in" data-aos-delay="300">
                <div class="card border-0 shadow-sm h-100 text-center p-3">
                    <img src="./assets/images/meeting-room.jpg" class="rounded-circle mx-auto mb-3" width="100" height="100" alt="Fine Dining">
                    <h6 class="fw-bold">Fine Dining</h6>
                    <p class="text-muted small">Experience world-class cuisine crafted by top chefs, paired with fine wines.</p>
                </div>
            </div>

            <div class="col-md-3 col-sm-6" data-aos="zoom-in" data-aos-delay="400">
                <div class="card border-0 shadow-sm h-100 text-center p-3">
                    <img src="./assets/images/gym.jpg" class="rounded-circle mx-auto mb-3" width="100" height="100" alt="Excursions">
                    <h6 class="fw-bold">Excursions</h6>
                    <p class="text-muted small">Explore guided city tours, cultural sites, and breathtaking natural wonders.</p>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- Gallery Section -->
<section id="gallery-section" class="py-5 bg-light">
        <div class="container">
            <div class="text-center mb-5" data-aos="fade-up">
                <h2 class="section-title center">Traveler's Gallery</h2>
                <p class="text-muted">Explore stunning snapshots from travelers across Sri Lanka, showcasing its breathtaking landscapes and vibrant culture.</p>
            </div>
            
            <div class="row g-3">
                <div class="col-md-3" data-aos="fade-up" data-aos-delay="100">
                    <div class="gallery-item">
                        <img src="./assets/images/1.jpg" alt="Gallery Image">
                    </div>
                </div>
                <div class="col-md-3" data-aos="fade-up" data-aos-delay="200">
                    <div class="gallery-item">
                        <img src="./assets/images/2.jpg" alt="Gallery Image">
                    </div>
                </div>
                <div class="col-md-3" data-aos="fade-up" data-aos-delay="300">
                    <div class="gallery-item">
                        <img src="./assets/images/Kandy.jpeg" alt="Gallery Image">
                    </div>
                </div>
                <div class="col-md-3" data-aos="fade-up" data-aos-delay="400">
                    <div class="gallery-item">
                        <img src="./assets/images/3.jpg" alt="Gallery Image">
                    </div>
                </div>
                <div class="col-md-3" data-aos="fade-up" data-aos-delay="500">
                    <div class="gallery-item">
                        <img src="./assets/images/travller4.jpeg" alt="Gallery Image">
                    </div>
                </div>
                <div class="col-md-3" data-aos="fade-up" data-aos-delay="600">
                    <div class="gallery-item">
                        <img src="./assets/images/pexels-shainee-2933943.jpg" alt="Gallery Image">
                    </div>
                </div>
                <div class="col-md-3" data-aos="fade-up" data-aos-delay="700">
                    <div class="gallery-item">
                        <img src="./assets/images/pexels-eugene-dorosh-230277-739409.jpg" alt="Gallery Image">
                    </div>
                </div>
                <div class="col-md-3" data-aos="fade-up" data-aos-delay="800">
                    <div class="gallery-item">
                        <img src="./assets/images/NuwaraEliya.jpeg" alt="Gallery Image">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-5">
        <div class="container">
            <div class="cta-section text-center rounded-3" data-aos="fade-up">
                <h2 class="mb-4">Ready For Unforgettable Travel? Remember Us!</h2>
                <p class="mb-4 mx-auto" style="max-width: 600px;">Experience the best of Sri Lankan hospitality with our curated selection of luxury accommodations. Let us help you create memories that will last a lifetime.</p>
                <button class="btn btn-primary btn-lg">Contact Us Now</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
     <section id="contact-section" class="py-5 bg-light">
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <h4 class="footer-title">Luxury Stays</h4>
                    <p>Providing exceptional hospitality experiences across Sri Lanka. Discover comfort, luxury, and authentic Sri Lankan culture with our handpicked accommodations.</p>
                    <div class="social-links mt-4">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <h4 class="footer-title">Contact Info</h4>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-map-marker-alt me-2"></i> Colombo, Sri Lanka</li>
                        <li class="mb-2"><i class="fas fa-phone me-2"></i> +01 (123) 4567 90</li>
                        <li class="mb-2"><i class="fas fa-envelope me-2"></i> SmartHotelBooking@gmail.com</li>
                    </ul>
                </div>
                <div class="col-lg-4">
                    <h4 class="footer-title">Newsletter</h4>
                    <p>Subscribe to our newsletter for more updates & news!</p>
                    <form class="mt-3">
                        <div class="input-group">
                            <input type="email" class="form-control" placeholder="Your Email">
                            <button class="btn btn-primary" type="submit">Subscribe</button>
                        </div>
                    </form>
                </div>
            </div>
            <hr class="my-4">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0">&copy; 2025 Luxury Stays. All rights reserved</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="me-3">Privacy Policy</a>
                    <a href="#" class="me-3">Terms & Conditions</a>
                    <a href="#">FAQ</a>
                </div>
            </div>
        </div>
    </footer>
    </section>

    <!-- Profile Sidebar -->
    <div class="sidebar" id="profileSidebar">
        <div class="sidebar-header text-center">
            <span class="sidebar-close" onclick="toggleSidebar()">×</span>
            <img id="modalProfilePicture" src="assets/images/image.png" alt="Profile" class="profile-img">
            <h5 id="modalUserName" class="mt-2 mb-0">User Name</h5>
            <p id="modalUserEmail" class="text-muted">user@example.com</p>
        </div>
        <div class="profile-content">
            
            </div>
            <div class="d-grid gap-2 mt-4">
                <button class="btn btn-outline-danger" onclick="logout()">
                    <i class="fas fa-sign-out-alt me-1"></i> Logout
                </button>
            </div>
        </div>
    </div>

    <!-- Chatbot -->
    <div id="chatbot-container">
        <div id="chatbot-icon" onclick="toggleChatbot()">
            <i class="fas fa-comments"></i>
        </div>
        <div id="chatbot-box">
            <div id="chatbot-header">
                <span>Smart Hotel Assistant</span>
                <button onclick="toggleChatbot()">×</button>
            </div>
            <div id="chatbot-messages">
                <div class="chat-message bot-message">
                    Hello! 👋 How can I help you with your hotel booking today?
                </div>
            </div>
            <div id="chatbot-input-area">
                <input type="text" id="chatbot-input" placeholder="Type your message...">
                <button onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <!-- Back to Top Button -->
    <a href="#" class="btn btn-primary rounded-circle back-to-top">
        <i class="fas fa-arrow-up"></i>
    </a>

<!-- Scripts -->
<script src="js/CustomerDashboard.js"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
<!-- SweetAlert2 JS -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>

 <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    

<script>

    // ==============================
// Destination Selection
// ==============================
function setDestination(dest) {
    const destinationField = document.getElementById('destination');
    if (!destinationField) return console.error("Destination field not found!");
    destinationField.value = dest;
    destinationField.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// ==============================
// Initialize AOS Animations
// ==============================
AOS.init({
    duration: 800,
    easing: 'ease-in-out',
    once: true
});

// ==============================
// Navbar Scroll Effect
// ==============================
window.addEventListener('scroll', () => {
    const navbar = document.getElementById('mainNav');
    if (!navbar) return;
    if (window.scrollY > 50) {
        navbar.classList.add('navbar-scrolled');
    } else {
        navbar.classList.remove('navbar-scrolled');
    }
});

// ==============================
// Back to Top Button
// ==============================
const backToTopButton = document.querySelector('.back-to-top');
if (backToTopButton) {
    window.addEventListener('scroll', () => {
        backToTopButton.style.display = (window.pageYOffset > 300) ? 'block' : 'none';
    });

    backToTopButton.addEventListener('click', (e) => {
        e.preventDefault();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
}

// ==============================
// Chatbot Functions
// ==============================
function toggleChatbot() {
    const box = document.getElementById("chatbot-box");
    if (!box) return console.error("Chatbot box not found!");
    box.style.display = (box.style.display === "none" || box.style.display === "") ? "flex" : "none";
}

function sendMessage() {
    const input = document.getElementById("chatbot-input");
    const messages = document.getElementById("chatbot-messages");
    if (!input || !messages) return;

    if (input.value.trim() === "") return;

    // Show user message
    const userMsg = document.createElement("div");
    userMsg.className = "chat-message user-message";
    userMsg.textContent = input.value;
    messages.appendChild(userMsg);

    // Bot reply
    const botMsg = document.createElement("div");
    botMsg.className = "chat-message bot-message";
    botMsg.textContent = getBotReply(input.value);
    messages.appendChild(botMsg);

    messages.scrollTop = messages.scrollHeight;
    input.value = "";
}

function getBotReply(userText) {
    userText = userText.toLowerCase();
    if (userText.includes("hello") || userText.includes("hi")) {
        return "Hello! 👋 Welcome to Smart Hotel Booking. How can I help you?";
    } else if (userText.includes("book") || userText.includes("room")) {
        return "We have Deluxe, Suite, and Standard rooms available. 🏨";
    } else if (userText.includes("price")) {
        return "Our rooms start from $50 per night. 💵";
    } else if (userText.includes("contact")) {
        return "You can reach us at SmartHotelBooking@gmail.com 📧";
    } else if (userText.includes("thanks") || userText.includes("thank you")) {
        return "You’re welcome! 😊";
    } else {
        return "I'm not sure, but our team will assist you soon.";
    }
}

// ==============================
// Profile Sidebar Toggle
// ==============================
function toggleSidebar() {
    const sidebar = document.getElementById("profileSidebar");
    if (!sidebar) return console.error("Sidebar element not found!");
    sidebar.classList.toggle("show");
}

// Close sidebar when clicking outside
document.addEventListener("click", function(event) {
    const sidebar = document.getElementById("profileSidebar");
    const profileBtn = document.getElementById("profileBtn");

    if (sidebar && sidebar.classList.contains("show") &&
        !sidebar.contains(event.target) && 
        !profileBtn.contains(event.target)) {
        sidebar.classList.remove("show");
    }
});

// ==============================
// SweetAlert Notifications
// ==============================
function showAlert(icon, title, text) {
    Swal.fire({
        icon: icon,
        title: title,
        text: text,
        timer: 3000,
        showConfirmButton: false
    });
}

// ==============================
// Logout Function
// ==============================
function logout() {
    Swal.fire({
        title: 'Logout',
        text: 'Are you sure you want to logout?',
        icon: 'question',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, logout!'
    }).then((result) => {
        if (result.isConfirmed) {
            localStorage.removeItem("jwtToken");
            localStorage.removeItem("email");
            localStorage.removeItem("role");

            showAlert('success', 'Logged Out', 'You have been successfully logged out.');
            setTimeout(() => { window.location.href = "login.html"; }, 1500);
        }
    });
}

// ==============================
// Document Ready
// ==============================
$(document).ready(function () {
    const token = localStorage.getItem("jwtToken");
    const email = localStorage.getItem("email");

    const logoutBtn = document.getElementById("logoutBtn");
    const profileBtn = document.getElementById("profileBtn");

    if (!token || !email) {
        if (profileBtn) profileBtn.style.display = "none";
        if (logoutBtn) logoutBtn.style.display = "inline-block";
    } else {
        if (profileBtn) profileBtn.style.display = "inline-block";
        if (logoutBtn) logoutBtn.style.display = "none";
        showAlert('success', 'Welcome!', 'You have successfully logged in.');
    }

    const imageUrl = "assets/images/";

    // Fetch users
    $.ajax({
        url: "http://localhost:8080/api/v1/users/all",
        method: "GET",
        headers: { "Authorization": "Bearer " + token },
        success: function (response) {
            const users = response.data || response;
            if (!Array.isArray(users)) return console.error("Users data is not an array.");

            const user = users.find(u => u.email === email);
            if (!user) return console.warn("User with the given email not found.");

            $("#modalUserName").text(user.username);
            $("#modalUserEmail").text(user.email);
            $("#modalUserRole").text(user.role);

            if (user.profileImage) {
                $("#modalProfilePicture").attr("src", imageUrl + user.profileImage);
            }

            // Fetch bookings
            $.ajax({
                url: "http://localhost:8080/api/v1/bookings/all",
                method: "GET",
                headers: { "Authorization": "Bearer " + token },
                success: function (response) {
                    const bookings = response.data || [];
                    const userBookings = bookings.filter(b => b.userId === user.id);

                    const tableBody = $("#bookingTableBody");
                    tableBody.empty();

                    if (userBookings.length === 0) {
                        tableBody.html("<tr><td colspan='3' class='text-center'>No bookings found.</td></tr>");
                        return;
                    }

                    userBookings.forEach(b => {
                        tableBody.append(`
                            <tr>
                                <td>${b.roomId}</td>
                                <td>${b.checkInDate}</td>
                                <td>${b.checkOutDate}</td>
                            </tr>
                        `);
                    });
                },
                error: function (err) {
                    console.error("Error fetching bookings:", err);
                    showAlert('error', 'Error', 'Failed to fetch bookings.');
                }
            });
        },
        error: function (err) {
            console.error("Failed to fetch user data:", err);
            showAlert('error', 'Error', 'Failed to load user data.');
        }
    });

    // Handle tour search form
    $(".tour-search-form").submit(function (e) {
        e.preventDefault();
        handleFormSubmission();
    });

    function handleFormSubmission() {
        const destination = $("#destination").val();
        const checkin = $("#checkin").val();
        const checkout = $("#checkout").val();
        const people = $("#people option:selected").val();

        if (!destination) {
            showAlert('warning', 'Destination Required', 'Please enter a destination to search.');
            return;
        }

        localStorage.setItem("destination", destination);
        localStorage.setItem("checkin", checkin);
        localStorage.setItem("checkout", checkout);
        localStorage.setItem("people", people);

        showAlert('success', 'Searching', 'Finding the best hotels for you...');
        setTimeout(() => { window.location.href = "HotelSearch.html"; }, 1500);
    }
});

// ==============================
// Set Default Check-in & Check-out Dates
// ==============================
window.onload = function () {
    const checkinField = document.getElementById("checkin");
    const checkoutField = document.getElementById("checkout");
    if (checkinField && checkoutField) {
        const today = new Date();
        const tomorrow = new Date();
        tomorrow.setDate(today.getDate() + 1);

        checkinField.value = today.toISOString().split('T')[0];
        checkoutField.value = tomorrow.toISOString().split('T')[0];
    }
};

</script>
</body>
</html>